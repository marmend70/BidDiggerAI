L’analisi segue una strategia a due stadi. Per prima cosa tenta l’elaborazione “diretta”: carica i PDF nell’API del modello, legge in locale eventuali file già testuali, ricompone tutto in un prompt predefinito e chiede al modello di restituire i campi strutturati richiesti. Se questo percorso fallisce passa automaticamente a un piano B “ibrido”: separa i PDF dagli altri file, prova a estrarre il testo completo dei PDF tramite Assistants API, usa un parser locale solo se l’estrazione remota non riesce, quindi combina tutto il testo ottenuto e lo invia al modello con le stesse regole di output strutturato. In entrambi i casi il modello utilizzato è lo stesso e la risposta finale viene normalizzata sullo schema atteso.